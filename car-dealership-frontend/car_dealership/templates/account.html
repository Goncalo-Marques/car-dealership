<!-- 
Authors: GonÃ§alo Marques; Ricardo Vieira
Latest change: 29/01/2022
 -->

{% extends "base.html" %}
{% block content %}

{% if client %}

<!-- Title -->
{% include "components/title.html" with title="Account" %}

<!-- Form -->
<form method="post">
    {% csrf_token %}

    <fieldset>
        <legend>Authentication</legend>
        <div class="mb-3">
            <label for="inputEmail" class="form-label">Email address</label>
            <input type="email" class="form-control" id="inputEmail" name="email" value="{{client.email}}">
        </div>
        <div class="mb-3">
            <label for="inputPassword" class="form-label">Password</label>
            <input type="password" class="form-control" id="inputPassword" aria-describedby="passwordHelp"
                name="password">
            <div id="passwordHelp" class="form-text">Leave empty to not update.</div>
        </div>
    </fieldset>

    <br>

    <fieldset>
        <legend>Details</legend>
        <div class="mb-3">
            <label for="inputFullName" class="form-label">Full Name</label>
            <input type="text" class="form-control" id="inputFullName" name="full_name" value="{{client.full_name}}"
                required>
        </div>
        <div class="mb-3">
            <label for="inputBirthDate" class="form-label">Birth Date</label>
            <input type="date" class="form-control" id="inputBirthDate" name="birthdate" value="{{client.birthdate}}"
                required>
        </div>
        <div class="mb-3">
            <label for="inputPhoneNumber" class="form-label">Phone Number</label>
            <input type="tel" class="form-control" id="inputPhoneNumber" pattern="[9]{1}[0-9]{8}" maxlength="9"
                name="phone_number" {% if client.phone_number %} value="{{client.phone_number}}" {% endif %}>
        </div>
        <div class="mb-3">
            <label for="inputAddress" class="form-label">Address</label>
            <input type="text" class="form-control" id="inputAddress" name="address" value="{{client.address}}"
                required>
        </div>
    </fieldset>

    <br>

    <button type="submit" class="btn btn-primary">Update</button>
</form>

{% else %}

<!-- Not logged in message -->
{% include "components/notLoggedIn.html" %}

{% endif %}

{% endblock content %}